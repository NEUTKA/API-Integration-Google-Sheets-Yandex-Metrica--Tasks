# Урок 7: API (Google Sheets, Яндекс.Метрика)

## Описание урока

В этом уроке изучаются практические навыки работы с API, а также дополнительные функции и методы для обработки данных, с которыми мы познакомились в лекциях. В уроке задействованы данные из Google Sheets, Яндекс.Метрики, а также тестовые данные для отработки типичных задач на работу с API.

## Задачи

1. **Чтение данных из Google Sheets и анализ данных посетителей**
   - Получите данные из Google Sheets с помощью библиотеки `requests`.
   - Подсчитайте процент мужчин среди всех посетителей сайта и округлите результат до целых.

2. **Работа с данными посещаемости из Яндекс.Метрики**
   - Скачайте файл с данными посещаемости сайта из Яндекс.Метрики и загрузите его в DataFrame (`df`).
   - Используя функцию `np.where`, создайте серию `chrome_robots`, в которую будет записываться 1, если посещение сайта было сделано роботом с браузера, содержащего 'Chrome' в названии, и 0 в других случаях.

3. **Работа с датасетом кликов и показов по объявлениям**
   - Используйте датасет с данными о кликах и показах, в котором возможны пропуски значений.
   - Подсчитайте количество строк без пропусков в колонке `click_type` и сохраните результат в переменную `not_nan_count`.

4. **Работа со списками и обработка исключений**
   - Дан список `lst` с разными элементами.
   - Используя `try-except` в цикле, попытайтесь преобразовать каждое значение в списке в `int`. Если преобразование удалось, добавьте значение в новый список `new_list`.

5. **Отправка сообщения с помощью Telegram API**
   - Используя Telegram API, отправьте сообщение себе в личный чат.
   - В ответ на выполнение задачи укажите ник бота, который будет отправлять сообщение.

## Данные

### Датасеты, используемые в задачах:
- **Google Sheets** — данные из Google Sheets, содержащие информацию о посетителях сайта.
- **Яндекс.Метрика** — данные посещаемости сайта из Яндекс.Метрики, сохраненные в переменной `df`.
- **Датасет кликов и показов** — содержит данные о взаимодействии пользователей с рекламными объявлениями.

#### Структура датасета кликов и показов:
- **ad_id**: ID объявления
- **user_id**: ID пользователя
- **click_type**: Тип клика (например, клик по заголовку объявления, клик по центру)

## Выводы

Задачи урока охватывают базовые операции для работы с API и показывают, как использовать запросы к сервисам, обрабатывать данные и внедрять исключения в коде. Полученные навыки пригодятся для работы с внешними API и обработки данных в реальных проектах.
